<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="menu.css">
  <link rel="stylesheet" href="cart.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="navbar">
    <div class="firstSection">
      <a href="index.html">
        <h2>Logo</h2>
      </a>
      <a href="menu.html">
        <h2>Menu</h2>
      </a>
      <a href="mealPlan.html">
        <h2>Meal Plan</h2>
      </a>
      <a href="contactUs.html">
        <h2>Contact Us</h2>
      </a>
    </div>
    <div class="lastSection">
      <a id="authSection" href="index.html">
        
      </a>

      <a href="javascript:void(0)" onclick="openCart()"><img src="./images/cart.png" alt="cart" /></a>
    </div>

  </div>
  <div id="addtocart-toast"></div>
  <div id="menuCart">

    <div>
      <img class="coverphoto" src="./images/coverphoto.png" alt="cover photo" />
    </div>

    <div class="menu">
      <h1>Meal Plan</h1>
      <div id="mealSection" class="itemSection">

      </div>
    </div>
    <div class="sidebar" id="cartSidebar">
      <a href="javascript:void(0)" class="close-btn" onclick="closeCart()">&times;</a>
      <div class="cart">
        <div class="insideCart">
          <div id="orderDiv" class="totalOrder">
          </div>
          <div id="orderDetails">

          </div>
          <hr>
          <div>
            Add Order Notes
          </div>
          <hr>
          <div class="priceSection">
            <div>
              <div class="Subtotal">Subtotal </div>
              <div>Delivery Fee</div>
            </div>
            <div id="priceSection">
              <div id="mealPrice" class="Subtotal"></div>
              <div id="deliveryFee">0</div>
            </div>
          </div>
          <div class="payButton"> <button onclick="showToast()">Pay Now</button></div>
        </div>
      </div>
    </div>
  </div>
  <script src="./scripts/mealPlan.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth , onAuthStateChanged} from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyAc8Y2Yi9p82z08BImo_-F0ma8bb5VOAZk",
    authDomain: "slimfit-a6d4c.firebaseapp.com",
    projectId: "slimfit-a6d4c",
    storageBucket: "slimfit-a6d4c.appspot.com",
    messagingSenderId: "1041359413162",
    appId: "1:1041359413162:web:579106b9393222cf8d15d3"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const authSection = document.getElementById("authSection");
onAuthStateChanged(auth, (user) => {
  if (user) {
    document.getElementById('menuCart').style.height = '100%';
    authSection.innerHTML = `
                    <h2 onclick="logout()">Logout</h2>
                `;
    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/auth.user
    const uid = user.uid;
    console.log(uid);
    // ...
  } else {
    authSection.innerHTML = `
                    <h2>Login</h2>
                `;
    // User is signed out
    // ...
  }
});
function logout() {
            signOut(auth).then(() => {
                window.location.href = "login.html";
            }).catch((error) => {
                console.log(error);
            });
        }

  </script>
</body>

</html>