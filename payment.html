<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stripe Payment</title>
  <link rel="stylesheet" href="payment.css">
  <link rel="stylesheet" href="location.css">
</head>

<body>
  <div class="mainDiv">
    
    <div id="payment-toast-container"></div>
    <div class="column column1">

      <div class="step" id="step2">
        <div class="number">
          <span>1</span>
        </div>
        <div class="title">
          <h1>Billing Information</h1>
        </div>
      </div>
      <div class="content" id="address">
        <form class="go-right">
          <div>
            <input type="email" name="email" value="" id="email-address" placeholder="Email Address"
              data-trigger="change" data-validation-minlength="1" data-type="email" data-required="true"
              data-error-message="Enter a valid email address." /><label for="email">Email Address</label>
          </div>
          <div>
            <input type="name" name="first_name" value="" id="first_name" placeholder="First Name" data-trigger="change"
              data-validation-minlength="1" data-type="name" data-required="true"
              data-error-message="Enter Your First Name" /><label for="first_name">First Name</label>
          </div>

          <div>
            <input type="name" name="last_name" value="" id="last_name" placeholder="Last Name" data-trigger="change"
              data-validation-minlength="1" data-type="name" data-required="true"
              data-error-message="Enter Your Last Name" /><label for="last_name">Last Name</label>
          </div>
          <div>
            <input type="phone" name="telephone" value="" id="telephone" placeholder="Phone(555)-555-5555"
              data-trigger="change" data-validation-minlength="1" data-type="number" data-required="true"
              data-error-message="Enter Your Telephone Number" /><label for="telephone">Telephone</label>
          </div>
          <div>
            <input type="text" name="company" value="" id="company" placeholder="Company" data-trigger="change"
              data-validation-minlength="1" data-type="name" data-required="false" />
            <label for="Company">Company</label>
          </div>
          <div>
            <input type="text" name="address" value="" id="address" placeholder="Address" data-trigger="change"
              data-validation-minlength="1" data-type="text" data-required="true"
              data-error-message="Enter Your Billing Address" /><label for="Address">Address</label>
          </div>
          <div>
            <input type="text" name="city" value="" id="city" placeholder="City" data-trigger="change"
              data-validation-minlength="1" data-type="text" data-required="true"
              data-error-message="Enter Your Billing City" /><label for="city">City</label>
          </div>
          
          <div>
            <input type="text" name="zip" value="" id="zip" placeholder="Zip Code" data-trigger="change"
              data-validation-minlength="1" data-type="text" data-required="true"
              data-error-message="Enter Your Billing Zip Code" /><label for="zip">Zip Code</label>
          </div>
          <div>
            <div class="country_options">
              <div class="select">
                <select id="country">
                  <option value="1">Malaysia</option>
                  <option value="2">United Kingdom</option>
                  <option value="3">Uganda</option>
                  <option value="4">Etc.</option>
                </select>
              </div>
              <label class="country" for="country">Country</label>
            </div>
          </div>
          <div>
            <input type="checkbox" />
            <label class="same" for="same_as_shipping">Same As Shipping Address</label><span></span>
          </div>
        </form>
      </div>
    </div>
    <div class="column column2">
      <div class="step" id="step3">
        <div class="number">
          <span>2</span>
        </div>
        <div class="title">
          <h1>Shipping Information</h1>
        </div>
        <div class="modify">
          <i class="fa fa-plus-circle"></i>
        </div>
      </div>
      <div class="content" id="shipping">
        <form action="" method="" name="">
          <div class="shipping">
            <label for="first_name">Select Date</label>
            <input type="date" name="first_name" value="" id="shipping_date" placeholder="shipping_date" data-trigger="change"
              data-validation-minlength="1"
              data-error-message="Enter Your First Name" />
          </div>
          <div>
            <input type="time" name="shipping_time" value="" id="shipping_time" placeholder="shipping_time" data-trigger="change"
              data-validation-minlength="1"
               /><label for="first_name">Select time</label>
          </div>
        </form>
      </div>
      <div class="step" id="step4">
        <div class="number">
          <span>3</span>
        </div>
        <div class="title">
          <h1>Payment Information</h1>
        </div>
        <div class="modify">
          <i class="fa fa-plus-circle"></i>
        </div>
      </div>
      <div class="paymentContent" id="payment">
        <div class="payment-container">
          <div class="payment-option">
            
            <div class="labelDiv"><input type="radio" name="payment" id="payment1" class="payment-radio" data-info="Pay with Shopee Pay"></div>
            <div class="payMethod"><img src="./images/spay.png" alt=""/></div>
          </div>

          <div class="payment-option">
            <div class="labelDiv"><input type="radio" name="payment" id="payment2" class="payment-radio" data-info="Pay with grab"></div>
           <div class="payMethod"><img src="./images/Grab.jpg" alt=""/></div>
          </div>

          <div class="payment-option">
            <div class="labelDiv"><input type="radio" name="payment" id="payment3" class="payment-radio" data-info="Pay with Boost"></div>
           <div class="payMethod"><img src="./images/boost.png" alt=""/></div>
          </div>

          <div class="payment-info" id="paymentInfo">
            <p id="paymentDetails">Payment details will be displayed here.</p>
            <button id="payButton" >Pay Now</button>
          </div>
        </div>
      </div>
    </div>

    <div class="column column3">
      <div class="step" id="step5">
        <div class="number">
          <span>4</span>
        </div>
        <div class="title">
          <h1>Finalize Order</h1>
        </div>
        <div class="modify">
          <i class="fa fa-plus-circle"></i>
        </div>
      </div>
      <div id="productBox">
      </div>
      <div class="totals">
        <span class="subtitle">Subtotal: <span id="sub_price"></span></span>
        <span class="subtitle">Schedule: <span id="sub_schedule"></span></span>
        <span class="subtitle">Shipping: <span id="sub_ship">RM0.00</span></span>
      </div>
      <div class="final">
        <span class="title">Total <span id="calculated_total">RM51.00</span></span>
      </div>
    </div>
  </div>
  </div>

  <script src="./scripts/payment.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth , onAuthStateChanged} from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyAc8Y2Yi9p82z08BImo_-F0ma8bb5VOAZk",
    authDomain: "slimfit-a6d4c.firebaseapp.com",
    projectId: "slimfit-a6d4c",
    storageBucket: "slimfit-a6d4c.appspot.com",
    messagingSenderId: "1041359413162",
    appId: "1:1041359413162:web:579106b9393222cf8d15d3"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const payButton = document.getElementById("payButton");
onAuthStateChanged(auth, (user) => {
  if (user) {
    payButton.addEventListener('click',function(){
      showPaymentToast();
    })
  } else {
    payButton.addEventListener('click',function(){
      localStorage.setItem("url",'payment.html')
      window.location.href="login.html";

    })
  }
});

  </script>
</body>

</html>