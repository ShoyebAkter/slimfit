<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu</title>
  <link rel="stylesheet" href="menu.css">
  <link rel="stylesheet" href="cart.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="navbar">
    <div class="firstSection">
      
        <img class="logo" src="./images/slimfit logo.png" alt=""/>
      
     
    </div>
    
    <div class="lastSection">
      <a href="menu.html" >
        <h2>Menu</h2>
        
      </a> 
      <a href="contactUs.html">
        <h2>Contact Us</h2>
      </a>
      <a id="authSection" href="index.html">
        
      </a>
      <a  href="javascript:void(0)" onclick="openCart()"><img src="./images/cart.png" alt="cart" /></a>
    </div>

  </div>
  <!-- <div class="navbar">
    <div class="firstSection">
      
        <img class="logo" src="./images/slimfit logo.png" alt=""/>
      
      <a href="menu.html" >
        <h2>Menu</h2>
        
      </a> 
      <a href="contactUs.html">
        <h2>Contact Us</h2>
      </a>
    </div>
    
    <div class="lastSection">
      <a id="authSection" href="index.html">
        
      </a>
      <a  href="javascript:void(0)" onclick="openCart()"><img src="./images/cart.png" alt="cart" /></a>
    </div>

  </div> -->
  
  <div id="addtocart-toast-container"></div>
  <div id="menuCart" class="menuCart">
    <div >

      <div>
        <div class="carousel" data-carousel="1" data-speed="2000">
          <span class="carousel-control-left"></span>
          <span class="carousel-control-right"></span>
          <div class="carousel-content">
            <!-- add extra last pic first and extra first pic last for hover effect to work properly  -->
            <img src="./images/carouselimage/beef.jpg" alt="image 5" />
            <img src="./images/carouselimage/chicken.jpg" alt="image 2" />
            <img src="./images/carouselimage/fish.jpg" alt="image 3" />
        
            <img src="./images/carouselimage/veg.jpg" alt="image 4" />
        </div>
        </div>
      </div>
      <h1>Menu</h1>
      <div class="menu">
        
        <div class="menuTypes">
          <div>Category</div>
          <div> <input name="menuType" onclick="initApp('beef')" type="radio"/> Beef</div>
          <div> <input name="menuType" onclick="initApp('chicken')" type="radio"/>Chicken</div>
          <div> <input name="menuType" onclick="initApp('fish')" type="radio"/>Fish</div>
          <div> <input name="menuType" onclick="initApp('veg')" type="radio"/>Veg</div>
        </div>
        <div id="itemContainer" class="itemSection">
  
  
        </div>
      </div>
  
    </div><div >

  
    </div>
    
  </div>
  <div class="sidebar" id="cartSidebar">
    <a href="javascript:void(0)" class="close-btn" onclick="closeCart()">&times;</a>
    <div class="cart">
      <div class="insideCart">
        <div id="orderDiv" class="totalOrder">
          
        </div>
        <div id="orderDetails">
          
        </div>
        <hr>
        <div>
          Add Order Notes
        </div>
        <hr>
        <div class="priceSection">
          <div>
            <div class="Subtotal">Subtotal </div>
            <div>Delivery Fee</div>
          </div>
          <div id="priceSection">
            <div id="mealPrice" class="Subtotal"></div>
            <div id="deliveryFee">0</div>
          </div>
        </div>
        <div class="payButton"> <button onclick="showToast()">Pay Now</button></div>
      </div>
    </div>
  </div>
  <script src="./scripts/menu.js"></script>
  
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth , onAuthStateChanged} from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyAc8Y2Yi9p82z08BImo_-F0ma8bb5VOAZk",
    authDomain: "slimfit-a6d4c.firebaseapp.com",
    projectId: "slimfit-a6d4c",
    storageBucket: "slimfit-a6d4c.appspot.com",
    messagingSenderId: "1041359413162",
    appId: "1:1041359413162:web:579106b9393222cf8d15d3"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const authSection = document.getElementById("authSection");
onAuthStateChanged(auth, (user) => {
  if (user) {
    document.getElementById('menuCart').style.height = '100%';
    authSection.innerHTML = `
                    <h2 onclick="logout()">Logout</h2>
                `;
    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/auth.user
    const uid = user.uid;
    console.log(uid);
    // ...
  } else {
    authSection.innerHTML = `
                    <h2>Login</h2>
                `;
    // User is signed out
    // ...
  }
});

function logout() {
            signOut(auth).then(() => {
                window.location.href = "login.html";
            }).catch((error) => {
                console.log(error);
            });
        }
  </script>
</body>

</html>